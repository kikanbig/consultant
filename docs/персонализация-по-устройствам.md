# üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º (–∫–æ–ª–æ–Ω–∫–∞–º)

## üìñ –û–±–∑–æ—Ä

–ù–∞–≤—ã–∫ –ê–ª–∏—Å—ã —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —Å –∫–∞–∫–æ–π –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö, —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω–∞—Ö –º–∞–≥–∞–∑–∏–Ω–∞.

## üé™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–∑–Ω—ã–µ –∑–æ–Ω—ã –º–∞–≥–∞–∑–∏–Ω–∞
- **–ö–æ–ª–æ–Ω–∫–∞ –≤ –∑–æ–Ω–µ –∫—É—Ö–Ω–∏** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å—É–¥—É, –∫—É—Ö–æ–Ω–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É, —Ç–µ–∫—Å—Ç–∏–ª—å
- **–ö–æ–ª–æ–Ω–∫–∞ –≤ –∑–æ–Ω–µ —Å–ø–∞–ª—å–Ω–∏** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–æ–≤–∞—Ç–∏, –º–∞—Ç—Ä–∞—Å—ã, –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ
- **–ö–æ–ª–æ–Ω–∫–∞ –≤ –∑–æ–Ω–µ –≥–æ—Å—Ç–∏–Ω–æ–π** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–≤–∞–Ω—ã, –∫—Ä–µ—Å–ª–∞, —Å—Ç–æ–ª—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞–∑–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã
- **–ö–æ–ª–æ–Ω–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –ê** ‚Üí —Å–≤–æ–∏ –∞–∫—Ü–∏–∏, —Å–≤–æ–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç
- **–ö–æ–ª–æ–Ω–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –ë** ‚Üí –¥—Ä—É–≥–∏–µ –∞–∫—Ü–∏–∏, –¥—Ä—É–≥–æ–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–Ø–Ω–¥–µ–∫—Å.–î–∏–∞–ª–æ–≥–∏ –ø–µ—Ä–µ–¥–∞—é—Ç –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ:
- **`meta.client_id`** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±)
- **`session.user.user_id`** - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **`session.session_id`** - ID —Å–µ—Å—Å–∏–∏

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, —Å –∫–∞–∫–æ–π –∫–æ–ª–æ–Ω–∫–∏ –ø—Ä–∏—à–µ–ª –∑–∞–ø—Ä–æ—Å.

### 2. –ú–∞–ø–ø–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –ª–æ–∫–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `src/config/deviceContent.js` –≤—ã —Å–≤—è–∑—ã–≤–∞–µ—Ç–µ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞—Ü–∏–∏:

```javascript
deviceMapping: {
  'ABC123XYZ456': 'kitchen',      // ID –∫–æ–ª–æ–Ω–∫–∏ ‚Üí –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
  'DEF789GHI012': 'bedroom',
  'JKL345MNO678': 'hall',
}
```

### 3. –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏

–î–ª—è –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Å–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç:
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- –ê–∫—Ü–∏–∏
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç–µ–ª–ª–∞–∂–∏
- –ö–Ω–æ–ø–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –£–∑–Ω–∞—Ç—å ID –≤–∞—à–∏—Ö –∫–æ–ª–æ–Ω–æ–∫

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –í–∫–ª—é—á–∏—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `src/config/deviceContent.js`:

```javascript
settings: {
  logDeviceInfo: true  // ‚Üê —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ true
}
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞–≤—ã–∫ –Ω–∞ –∫–æ–ª–æ–Ω–∫–µ
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ - –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
=== DEVICE INFO ===
Client ID: ABC123XYZ456
User ID: 1234567890
Session ID: session_abc123
Device Type: speaker
Location: –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
==================
```

4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client ID** - —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤–∞—à–µ–π –∫–æ–ª–æ–Ω–∫–∏

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):

```javascript
// –í mainHandler.js –¥–æ–±–∞–≤–∏—Ç—å:
case 'show_device_id':
  const deviceInfo = getDeviceInfo(body);
  return generateResponse(
    `ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: ${deviceInfo.clientId || '–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω'}`,
    false
  );
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–û—Ç–∫—Ä–æ–π—Ç–µ `src/config/deviceContent.js` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ –∫–æ–ª–æ–Ω–∫–∏:

```javascript
deviceMapping: {
  // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ ID –≤–∞—à–∏—Ö –∫–æ–ª–æ–Ω–æ–∫
  'ABC123XYZ456': 'kitchen',     // –ö–æ–ª–æ–Ω–∫–∞ –≤ –∫—É—Ö–æ–Ω–Ω–æ–π –∑–æ–Ω–µ
  'DEF789GHI012': 'bedroom',     // –ö–æ–ª–æ–Ω–∫–∞ –≤ –∑–æ–Ω–µ —Å–ø–∞–ª—å–Ω–∏
  'JKL345MNO678': 'hall',        // –ö–æ–ª–æ–Ω–∫–∞ –≤ –≥–æ—Å—Ç–∏–Ω–æ–π
},
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏

–í —Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç:

```javascript
locationContent: {
  kitchen: {
    name: '–ö—É—Ö–Ω—è',
    
    welcome: 
      "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫—É—Ö–æ–Ω–Ω—É—é –∑–æ–Ω—É! " +
      "–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –æ –ø–æ—Å—É–¥–µ, —Ç–µ—Ö–Ω–∏–∫–µ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä–∞—Ö –¥–ª—è –∫—É—Ö–Ω–∏.",
    
    mainCategories: ['–ø–æ—Å—É–¥–∞', '–∫—É—Ö–æ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞', '—Ç–µ–∫—Å—Ç–∏–ª—å'],
    
    promotions: 
      "–í –∫—É—Ö–æ–Ω–Ω–æ–π –∑–æ–Ω–µ: —Å–∫–∏–¥–∫–∞ 20% –Ω–∞ –Ω–∞–±–æ—Ä—ã –ø–æ—Å—É–¥—ã!",
    
    recommendedShelves: [1, 2, 3, 4, 5, 6],
    
    defaultButtons: [
      { title: "–ü–æ—Å—É–¥–∞", hide: true },
      { title: "–¢–µ—Ö–Ω–∏–∫–∞", hide: true },
      { title: "–ê–∫—Ü–∏–∏", hide: true }
    ]
  },
  
  // –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –ª–æ–∫–∞—Ü–∏–∏...
}
```

### –®–∞–≥ 4: –î–µ–ø–ª–æ–π

```bash
git add .
git commit -m "–ù–∞—Å—Ç—Ä–æ–∏–ª –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º"
git push origin main
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –Ω–∞–≤—ã–∫.

## üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í `src/config/deviceContent.js` –≤ —Å–µ–∫—Ü–∏–∏ `settings`:

```javascript
settings: {
  // –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é
  enableDevicePersonalization: true,
  
  // –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
  logDeviceInfo: true,
  
  // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ –≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–∏
  showLocationInWelcome: false
}
```

## üîç –ß—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

### 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
–ö–∞–∂–¥–∞—è –ª–æ–∫–∞—Ü–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:
- –ö—É—Ö–Ω—è: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫—É—Ö–æ–Ω–Ω—É—é –∑–æ–Ω—É!"
- –°–ø–∞–ª—å–Ω—è: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∑–æ–Ω—É —Å–ø–∞–ª—å–Ω–∏!"

### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫—Ü–∏—è—Ö
–†–∞–∑–Ω—ã–µ –∞–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω:
- –ö—É—Ö–Ω—è: "–°–∫–∏–¥–∫–∞ 20% –Ω–∞ –ø–æ—Å—É–¥—É"
- –°–ø–∞–ª—å–Ω—è: "–°–∫–∏–¥–∫–∞ 30% –Ω–∞ –∫—Ä–æ–≤–∞—Ç–∏"

### 3. –ö–Ω–æ–ø–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã:
- –ö—É—Ö–Ω—è: [–ü–æ—Å—É–¥–∞, –¢–µ—Ö–Ω–∏–∫–∞, –ê–∫—Ü–∏–∏]
- –°–ø–∞–ª—å–Ω—è: [–ö—Ä–æ–≤–∞—Ç–∏, –ú–∞—Ç—Ä–∞—Å—ã, –ê–∫—Ü–∏–∏]

### 4. –°–ø—Ä–∞–≤–∫–∞
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –¥–∞–Ω–Ω–æ–π –∑–æ–Ω–µ

### 5. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç–µ–ª–ª–∞–∂–∏
–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ —Å—Ç–µ–ª–ª–∞–∂–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞–∂–¥–æ–π –∑–æ–Ω–µ

## üìä –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤

### –ù–∞ –∫–æ–ª–æ–Ω–∫–µ –≤ –∫—É—Ö–æ–Ω–Ω–æ–π –∑–æ–Ω–µ:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: "–ê–ª–∏—Å–∞, –∑–∞–ø—É—Å—Ç–∏ –Ω–∞–≤—ã–∫ –º–∞–≥–∞–∑–∏–Ω–∞"  
**–ê–ª–∏—Å–∞**: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫—É—Ö–æ–Ω–Ω—É—é –∑–æ–Ω—É! –Ø –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∑–∞–ª–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤—ã–π –≤–µ–∫ –¥–æ–º. –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –æ –ø–æ—Å—É–¥–µ, –∫—É—Ö–æ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–µ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä–∞—Ö –¥–ª—è –∫—É—Ö–Ω–∏..."

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: "–ö–∞–∫–∏–µ –µ—Å—Ç—å –∞–∫—Ü–∏–∏?"  
**–ê–ª–∏—Å–∞**: "–í –∫—É—Ö–æ–Ω–Ω–æ–π –∑–æ–Ω–µ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: —Å–∫–∏–¥–∫–∞ 20% –Ω–∞ –Ω–∞–±–æ—Ä—ã –ø–æ—Å—É–¥—ã, –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ö–æ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏..."

### –ù–∞ –∫–æ–ª–æ–Ω–∫–µ –≤ –∑–æ–Ω–µ —Å–ø–∞–ª—å–Ω–∏:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: "–ê–ª–∏—Å–∞, –∑–∞–ø—É—Å—Ç–∏ –Ω–∞–≤—ã–∫ –º–∞–≥–∞–∑–∏–Ω–∞"  
**–ê–ª–∏—Å–∞**: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∑–æ–Ω—É —Å–ø–∞–ª—å–Ω–∏! –Ø –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∑–∞–ª–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤—ã–π –≤–µ–∫ –¥–æ–º. –ó–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∫—Ä–æ–≤–∞—Ç–∏, –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ, –º–∞—Ç—Ä–∞—Å—ã..."

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: "–ö–∞–∫–∏–µ –µ—Å—Ç—å –∞–∫—Ü–∏–∏?"  
**–ê–ª–∏—Å–∞**: "–í –∑–æ–Ω–µ —Å–ø–∞–ª—å–Ω–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç –∞–∫—Ü–∏–∏: —Å–∫–∏–¥–∫–∏ –¥–æ 30% –Ω–∞ –∫—Ä–æ–≤–∞—Ç–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ –º–∞—Ç—Ä–∞—Å—ã..."

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–µ–ª–ª–∞–∂–µ–π –ø–æ –ª–æ–∫–∞—Ü–∏–∏

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —á—Ç–æ–±—ã –≤ –∫–∞–∂–¥–æ–π –∑–æ–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å—Ç–µ–ª–ª–∞–∂–∏:

```javascript
recommendedShelves: [1, 2, 3, 4, 5, 6]  // –¢–æ–ª—å–∫–æ —ç—Ç–∏ —Å—Ç–µ–ª–ª–∞–∂–∏ –¥–ª—è –∫—É—Ö–Ω–∏
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ —Å—Ç–µ–ª–ª–∞–∂ –∫ –¥–∞–Ω–Ω–æ–π –∑–æ–Ω–µ.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ª–æ–∫–∞—Ü–∏–π

–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ª–æ–∫–∞—Ü–∏—é:

```javascript
locationContent: {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ª–æ–∫–∞—Ü–∏–∏ ...
  
  office: {
    name: '–û—Ñ–∏—Å–Ω–∞—è –∑–æ–Ω–∞',
    welcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ—Ñ–∏—Å–Ω—É—é –∑–æ–Ω—É!",
    mainCategories: ['–æ—Ñ–∏—Å–Ω—ã–µ —Å—Ç–æ–ª—ã', '–∫—Ä–µ—Å–ª–∞', '—Å—Ç–µ–ª–ª–∞–∂–∏'],
    promotions: "–°–∫–∏–¥–∫–∏ –Ω–∞ –æ—Ñ–∏—Å–Ω—É—é –º–µ–±–µ–ª—å –¥–æ 25%!",
    recommendedShelves: [13, 14, 15],
    defaultButtons: [
      { title: "–°—Ç–æ–ª—ã", hide: true },
      { title: "–ö—Ä–µ—Å–ª–∞", hide: true }
    ]
  }
}
```

### –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ `defaultContent`.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `user_id` –∏–ª–∏ `session_id`:

```javascript
deviceMapping: {
  'test_user_kitchen': 'kitchen',
  'test_user_bedroom': 'bedroom',
}
```

–ó–∞—Ç–µ–º –≤ curl –∑–∞–ø—Ä–æ—Å–µ —É–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π user_id:

```bash
curl -X POST http://localhost:3000/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "request": {"command": "–ø—Ä–∏–≤–µ—Ç", "original_utterance": "–ø—Ä–∏–≤–µ—Ç"},
    "session": {
      "new": true,
      "user": {"user_id": "test_user_kitchen"},
      "session_id": "test",
      "skill_id": "test"
    },
    "version": "1.0"
  }'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

1. –í–∫–ª—é—á–∏—Ç–µ `logDeviceInfo: true`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞–≤—ã–∫ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- Client ID —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ë–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 2. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ID
- Client ID —Å—Ç–∞–±–∏–ª–µ–Ω –∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
- –ü—Ä–∏–≤—è–∑–∞–Ω –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–ª–æ–Ω–∫–∏

### 3. –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ù–∞–≤—ã–∫ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### 4. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–¥–Ω–æ–π –∫–æ–ª–æ–Ω–∫–µ
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É, –∞ –Ω–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–¥–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏—è "–∫–æ–ª–æ–Ω–∫–∞ –≤ –∑–æ–Ω–µ –º–∞–≥–∞–∑–∏–Ω–∞"

## üìà –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∑–æ–Ω–∞–º** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∑–æ–Ω
3. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–∫—Ü–∏–∏** - —Ä–∞–∑–Ω—ã–µ –∞–∫—Ü–∏–∏ –≤ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è –¥–Ω—è
4. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏** - —É—Ç—Ä–µ–Ω–Ω–∏–π/–≤–µ—á–µ—Ä–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
5. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Client ID –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–≤—ã–∫ –∑–∞–ø—É—â–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `user_id` –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –õ–æ–∫–∞—Ü–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Client ID –≤ `deviceMapping`
- –í–∫–ª—é—á–∏—Ç–µ `logDeviceInfo: true` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `enableDevicePersonalization: true`

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞–≤—ã–∫ –Ω–∞ –∫–æ–ª–æ–Ω–∫–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`src/config/deviceContent.js`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ –ª–æ–∫–∞—Ü–∏—è–º
- **`src/utils/deviceManager.js`** - –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **`src/handlers/mainHandler.js`** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –í–∫–ª—é—á–∏—Ç—å `logDeviceInfo: true`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–≤—ã–∫ –Ω–∞ –≤—Å–µ—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Client ID –∏–∑ –ª–æ–≥–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤ `deviceMapping`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–µ
- [ ] –í—ã–∫–ª—é—á–∏—Ç—å `logDeviceInfo` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç! üéâ**


